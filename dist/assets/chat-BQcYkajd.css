@keyframes skeleton-pulse{0%{opacity:.6}50%{opacity:.3}to{opacity:.6}}@keyframes skeleton-shimmer{0%{background-position:-200% 0}to{background-position:200% 0}}.skeleton-pulse{animation:skeleton-pulse 1.5s ease-in-out infinite;background:linear-gradient(90deg,var(--bg-tertiary) 25%,var(--bg-hover) 50%,var(--bg-tertiary) 75%);background-size:200% 100%;animation:skeleton-shimmer 1.5s ease-in-out infinite}.conversation-skeleton{display:flex;align-items:center;padding:12px 16px;gap:12px;border-bottom:1px solid var(--border-color)}.conversation-skeleton .skeleton-avatar{width:48px;height:48px;border-radius:50%;flex-shrink:0}.conversation-skeleton .skeleton-content{flex:1;display:flex;flex-direction:column;gap:8px}.conversation-skeleton .skeleton-header{display:flex;justify-content:space-between;align-items:center}.conversation-skeleton .skeleton-name{width:120px;height:14px;border-radius:4px}.conversation-skeleton .skeleton-time{width:40px;height:12px;border-radius:4px}.conversation-skeleton .skeleton-message{width:80%;height:12px;border-radius:4px}.conversation-list-skeleton{display:flex;flex-direction:column}.message-skeleton{display:flex;padding:4px 16px;margin-bottom:4px}.message-skeleton.incoming{justify-content:flex-start}.message-skeleton.outgoing{justify-content:flex-end}.message-skeleton .skeleton-bubble{max-width:65%;min-width:120px;padding:12px 16px;border-radius:12px;display:flex;flex-direction:column;gap:6px}.message-skeleton.incoming .skeleton-bubble{background:var(--msg-in-bg);border-bottom-left-radius:4px}.message-skeleton.outgoing .skeleton-bubble{background:var(--msg-out-bg);border-bottom-right-radius:4px}.skeleton-text-line{height:10px;border-radius:4px}.message-list-skeleton{display:flex;flex-direction:column;padding:16px 0}.loading-spinner-container{display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px}.loading-spinner-container.small{transform:scale(.6)}.loading-spinner-container.medium{transform:scale(.8)}.loading-spinner-container.large{transform:scale(1)}.loading-spinner{position:relative;width:50px;height:50px}.spinner-ring{position:absolute;width:100%;height:100%;border:3px solid transparent;border-radius:50%;animation:spinner-rotate 1.2s cubic-bezier(.5,0,.5,1) infinite}.spinner-ring:nth-child(1){border-top-color:var(--accent-primary);animation-delay:-.45s}.spinner-ring:nth-child(2){border-top-color:var(--text-secondary);animation-delay:-.3s;width:80%;height:80%;top:10%;left:10%}.spinner-ring:nth-child(3){border-top-color:var(--text-muted);animation-delay:-.15s;width:60%;height:60%;top:20%;left:20%}@keyframes spinner-rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.loading-text{color:var(--text-secondary);font-size:14px;font-weight:500;letter-spacing:.3px}.loading-overlay{position:absolute;inset:0;background:var(--bg-primary);display:flex;align-items:center;justify-content:center;z-index:100;animation:fade-in .2s ease-out}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.chat-header-skeleton{display:flex;align-items:center;gap:12px;padding:12px 16px}.chat-header-skeleton .skeleton-avatar{width:40px;height:40px;border-radius:50%}.chat-header-skeleton .skeleton-info{display:flex;flex-direction:column;gap:6px}.chat-header-skeleton .skeleton-name{width:140px;height:14px;border-radius:4px}.chat-header-skeleton .skeleton-status{width:80px;height:10px;border-radius:4px}.app-loading{width:100vw;height:100vh;display:flex;align-items:center;justify-content:center;background:var(--bg-primary)}.spinner-large{width:48px;height:48px;border:3px solid var(--border-color);border-top-color:var(--accent-primary);border-radius:50%;animation:spinner-rotate .8s linear infinite}.chat-loading{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;background:var(--bg-primary)}.chat-loading-text{color:var(--text-secondary);font-size:14px}.btn-loading{position:relative;pointer-events:none}.btn-loading:after{content:"";position:absolute;width:16px;height:16px;border:2px solid transparent;border-top-color:currentColor;border-radius:50%;animation:spinner-rotate .6s linear infinite}.fade-enter{opacity:0}.fade-enter-active{opacity:1;transition:opacity .2s ease-in}.fade-exit{opacity:1}.fade-exit-active{opacity:0;transition:opacity .2s ease-out}.slide-up-enter{opacity:0;transform:translateY(20px)}.slide-up-enter-active{opacity:1;transform:translateY(0);transition:opacity .2s ease-out,transform .2s ease-out}.conversation-loading{position:absolute;inset:0;background:var(--bg-primary);display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;z-index:10;animation:fade-in .15s ease-out}.conversation-loading .loading-spinner{width:40px;height:40px}.conversation-loading .loading-text{font-size:13px;color:var(--text-muted)}.btn-record-audio{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.btn-record-audio:hover{background:#ffffff0d;color:var(--accent-primary)}.audio-recording{display:flex;align-items:center;gap:12px;padding:8px 12px;background:var(--bg-hover);border-radius:24px}.recording-indicator{display:flex;align-items:center;gap:8px}.pulse-dot{width:12px;height:12px;background:#f44;border-radius:50%;animation:pulse 1.5s ease-in-out infinite}@keyframes pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(1.2)}}.recording-time{color:var(--text-primary);font-size:14px;font-weight:500;min-width:40px}.btn-stop-recording,.btn-cancel-recording{background:transparent;border:none;color:var(--text-primary);cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background .2s}.btn-stop-recording{color:var(--accent-primary)}.btn-stop-recording:hover{background:#e0e0e01a}.btn-cancel-recording:hover{background:#ffffff0d}.audio-preview{display:flex;align-items:center;gap:12px;padding:8px 12px;background:var(--bg-hover);border-radius:24px;flex:1}.audio-player{flex:1;height:32px;max-width:300px}.audio-player::-webkit-media-controls-panel{background:var(--bg-hover)}.audio-duration{color:var(--text-secondary);font-size:12px}.audio-preview-actions{display:flex;gap:8px}.btn-cancel,.btn-send-audio{background:transparent;border:none;cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background .2s}.btn-cancel{color:var(--text-primary)}.btn-cancel:hover{background:#ffffff0d}.btn-send-audio{color:var(--accent-primary)}.btn-send-audio:hover{background:#e0e0e01a}.message-audio{display:flex;align-items:center;gap:10px;min-width:280px;max-width:100%;padding:4px}.audio-message-player{display:none}.custom-audio-player{display:flex;align-items:center;gap:10px;width:100%}.audio-play-btn{width:36px;height:36px;min-width:36px;border-radius:50%;background:var(--accent-primary);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:var(--bg-primary)}.audio-play-btn:hover{background:var(--accent-hover);transform:scale(1.05)}.audio-play-btn:active{transform:scale(.95)}.audio-play-btn svg{width:16px;height:16px}.audio-info{flex:1;display:flex;flex-direction:column;gap:4px;min-width:0}.audio-progress-container{width:100%;height:4px;background:#ffffff26;border-radius:2px;cursor:pointer;position:relative;overflow:hidden}.audio-progress-bar{height:100%;background:var(--accent-primary);border-radius:2px;transition:width .1s linear;position:relative}.audio-progress-bar:after{content:"";position:absolute;right:0;top:50%;transform:translateY(-50%);width:8px;height:8px;background:var(--accent-primary);border-radius:50%;opacity:0;transition:opacity .2s}.audio-progress-container:hover .audio-progress-bar:after{opacity:1}.audio-time-info{display:flex;align-items:center;justify-content:space-between;font-size:11px;color:var(--text-secondary);font-family:Courier New,monospace}.audio-current-time,.audio-total-duration{font-weight:500}.audio-waveform{display:flex;align-items:center;gap:2px;height:20px;flex:1}.audio-waveform-bar{flex:1;background:#ffffff4d;border-radius:2px;min-width:2px;transition:all .2s}.audio-waveform-bar.active{background:var(--accent-primary)}.audio-mic-icon{width:18px;height:18px;color:var(--text-secondary);opacity:.7;margin-right:4px}.audio-download-btn{width:32px;height:32px;min-width:32px;border-radius:50%;background:var(--accent-primary);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:var(--bg-primary);text-decoration:none;margin-right:4px}.audio-download-btn:hover{background:var(--accent-hover);transform:scale(1.05)}.audio-download-btn svg{width:18px;height:18px}.message-audio.audio-error .audio-play-btn{background:#ff575733;border:2px solid rgba(255,87,87,.5);cursor:not-allowed}.message-audio.audio-error .audio-progress-bar{background:#ff575780}.message.user .audio-play-btn{background:#fff3;color:var(--text-primary)}.message.user .audio-play-btn:hover{background:#ffffff4d}.message.bot .audio-play-btn,.message.agent .audio-play-btn{background:var(--accent-primary);color:var(--bg-primary)}.message.bot .audio-play-btn:hover,.message.agent .audio-play-btn:hover{background:var(--accent-hover)}@keyframes audioLoading{0%,to{opacity:.3}50%{opacity:1}}.audio-loading .audio-play-btn{animation:audioLoading 1.5s ease-in-out infinite}@keyframes waveformPulse{0%,to{height:40%}50%{height:100%}}.audio-playing .audio-waveform-bar{animation:waveformPulse .8s ease-in-out infinite}.audio-playing .audio-waveform-bar:nth-child(2){animation-delay:.1s}.audio-playing .audio-waveform-bar:nth-child(3){animation-delay:.2s}.audio-playing .audio-waveform-bar:nth-child(4){animation-delay:.3s}.audio-playing .audio-waveform-bar:nth-child(5){animation-delay:.4s}@media (max-width: 768px){.audio-recording{gap:8px;padding:6px 10px;width:100%;max-width:100%}.btn-record-audio,.btn-stop-recording,.btn-cancel-recording{padding:6px;min-width:32px;min-height:32px}.audio-preview{gap:10px;padding:8px 12px;flex-wrap:nowrap;width:100%}.audio-player{max-width:180px;height:28px;min-width:150px}.audio-preview-actions{gap:6px;flex-shrink:0;margin-left:4px}.btn-cancel,.btn-send-audio{padding:6px;min-width:32px;min-height:32px}.message-audio{min-width:220px;gap:8px}.audio-play-btn{width:32px;height:32px;min-width:32px}.audio-play-btn svg{width:14px;height:14px}.audio-time-info{font-size:10px}.recording-time{font-size:13px;min-width:35px}.pulse-dot{width:10px;height:10px}}@media (max-width: 375px){.audio-recording{gap:6px;padding:4px 8px}.btn-record-audio,.btn-stop-recording,.btn-cancel-recording{padding:4px;min-width:28px;min-height:28px}.audio-preview{gap:8px;padding:6px 10px}.audio-player{max-width:150px;height:26px;min-width:120px}.btn-cancel,.btn-send-audio{padding:5px;min-width:30px;min-height:30px}.message-audio{min-width:180px;gap:6px}.audio-play-btn{width:28px;height:28px;min-width:28px}.audio-play-btn svg{width:12px;height:12px}.audio-time-info{font-size:9px}.recording-time{font-size:12px;min-width:30px}.pulse-dot{width:8px;height:8px}.audio-duration{font-size:11px}}.btn-attach-file{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.btn-attach-file:hover{background:#ffffff0d;color:var(--accent-primary)}.file-preview-container{position:absolute;bottom:100%;left:0;right:0;background:var(--bg-tertiary);border-top:1px solid var(--border-color);padding:16px;display:flex;align-items:center;gap:16px;z-index:10}.file-preview{flex:1;display:flex;align-items:center;gap:12px}.image-preview{max-width:200px;max-height:200px;border-radius:8px;object-fit:cover}.file-icon-preview{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-hover);border-radius:8px}.file-icon-preview svg{color:var(--text-secondary);flex-shrink:0}.file-info{display:flex;flex-direction:column;gap:4px}.file-name{color:var(--text-primary);font-size:14px;font-weight:500;word-break:break-word}.file-size{color:var(--text-secondary);font-size:12px}.file-actions{display:flex;gap:8px}.btn-cancel-file,.btn-send-file{background:transparent;border:none;cursor:pointer;padding:12px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background .2s}.btn-cancel-file{color:var(--text-primary)}.btn-cancel-file:hover{background:#ffffff0d}.btn-send-file{color:var(--accent-primary)}.btn-send-file:hover{background:#e0e0e01a}.message-file{display:flex;flex-direction:column;gap:8px;min-width:250px;max-width:300px}.message-file-image-container{position:relative;width:100%;min-height:200px;background:#0000001a;border-radius:8px;overflow:hidden;display:flex;align-items:center;justify-content:center}.message-file-image{width:100%;max-height:400px;object-fit:contain;border-radius:8px;cursor:pointer;transition:opacity .2s}.message-file-image:hover{opacity:.9}.image-loading-spinner{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);display:flex;align-items:center;justify-content:center}.image-loading-spinner .spinner{width:40px;height:40px;border:4px solid rgba(255,255,255,.1);border-top:4px solid var(--accent-primary);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.image-error-placeholder{width:100%;min-height:200px;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:12px;padding:20px;background:#ff57571a;border:2px dashed rgba(255,87,87,.3);border-radius:8px;cursor:pointer;transition:all .2s;color:var(--text-secondary)}.image-error-placeholder:hover{background:#ff575726;border-color:#ff575780}.image-error-placeholder svg{color:#ff5757b3}.image-error-placeholder p{margin:0;font-size:14px;font-weight:500;color:var(--text-primary)}.image-error-placeholder small{font-size:12px;color:var(--text-secondary);opacity:.7}.message-file-document{display:flex;align-items:center;gap:12px;padding:12px;background:#0000001a;border-radius:8px;cursor:pointer;transition:background .2s}.message-file-document:hover{background:#0003}.message-file-document svg{color:var(--text-primary);flex-shrink:0}.message-file-info{display:flex;flex-direction:column;gap:4px;flex:1;min-width:0}.message-file-name{color:var(--text-primary);font-size:14px;font-weight:500;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.message-file-size{color:var(--text-secondary);font-size:12px}.message-file-download{color:var(--accent-primary);flex-shrink:0}.quick-messages-bar{background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);padding:8px 12px;max-height:120px;overflow-y:auto}.quick-messages-bar.loading,.quick-messages-bar.empty{text-align:center;padding:12px;color:var(--text-muted);font-size:13px}.quick-messages-list{display:flex;gap:8px;flex-wrap:wrap;align-items:center}.quick-message-btn{display:inline-flex;align-items:center;gap:6px;padding:6px 12px;background:var(--bg-hover);border:1px solid var(--border-color);border-radius:16px;font-size:13px;color:var(--text-primary);cursor:pointer;transition:all .2s ease;white-space:nowrap;max-width:200px}.quick-message-btn:hover{background:var(--accent-primary);color:var(--bg-primary);border-color:var(--accent-primary);transform:translateY(-1px);box-shadow:0 2px 4px #e0e0e04d}.quick-message-emoji{font-size:16px;line-height:1}.quick-message-text{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.quick-message-toggle-btn{width:32px;height:32px;padding:0;background:var(--bg-hover);border:1px solid var(--border-color);border-radius:50%;font-size:18px;font-weight:700;color:var(--text-secondary);cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center}.quick-message-toggle-btn:hover{background:var(--bg-tertiary);border-color:var(--text-muted)}.quick-message-manage-btn{padding:6px 12px;background:var(--bg-hover);border:1px solid var(--border-color);border-radius:16px;font-size:13px;color:var(--text-secondary);cursor:pointer;transition:all .2s ease;white-space:nowrap}.quick-message-manage-btn:hover{background:var(--bg-tertiary);border-color:var(--text-muted);color:var(--text-primary)}.quick-messages-bar::-webkit-scrollbar{height:6px}.quick-messages-bar::-webkit-scrollbar-track{background:transparent;border-radius:3px}.quick-messages-bar::-webkit-scrollbar-thumb{background:var(--bg-hover);border-radius:3px}.quick-messages-bar::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}.quick-messages-manager-overlay{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.quick-messages-manager{background:var(--bg-secondary);border-radius:12px;max-width:1000px;width:100%;max-height:90vh;display:flex;flex-direction:column;box-shadow:0 10px 40px var(--shadow)}.manager-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--border-color)}.manager-header h2{margin:0;font-size:20px;color:var(--text-primary)}.close-btn{background:none;border:none;font-size:32px;color:var(--text-secondary);cursor:pointer;line-height:1;padding:0;width:32px;height:32px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .2s}.close-btn:hover{background:var(--bg-hover);color:var(--text-primary)}.manager-content{flex:1;overflow-y:auto;padding:24px;display:grid;grid-template-columns:1fr 1fr;gap:24px}.manager-form-section,.manager-list-section{display:flex;flex-direction:column}.manager-form-section h3,.manager-list-section h3{margin:0 0 16px;font-size:16px;color:var(--text-secondary);font-weight:600}.form-group{margin-bottom:16px}.form-group label{display:block;margin-bottom:6px;font-size:13px;font-weight:500;color:var(--text-secondary)}.form-group input,.form-group textarea,.form-group select{width:100%;padding:10px;border:1px solid var(--border-color);border-radius:6px;font-size:14px;font-family:inherit;transition:border-color .2s;background:var(--bg-tertiary);color:var(--text-primary)}.form-group input:focus,.form-group textarea:focus,.form-group select:focus{outline:none;border-color:var(--accent-primary)}.form-group textarea{resize:vertical;min-height:80px}.form-row{display:grid;grid-template-columns:1fr 1fr;gap:12px}.emoji-selector{display:flex;flex-wrap:wrap;gap:6px;margin-top:6px}.emoji-clear-btn,.emoji-option{width:36px;height:36px;border:1px solid var(--border-color);background:var(--bg-tertiary);border-radius:6px;cursor:pointer;font-size:18px;display:flex;align-items:center;justify-content:center;transition:all .2s}.emoji-clear-btn{width:auto;padding:0 10px;font-size:12px;color:var(--text-secondary)}.emoji-option:hover,.emoji-clear-btn:hover{border-color:var(--accent-primary);background:var(--bg-hover)}.emoji-option.selected{border-color:var(--accent-primary);background:var(--accent-primary);transform:scale(1.1)}.form-actions{display:flex;gap:10px;margin-top:20px}.save-btn,.cancel-btn{flex:1;padding:12px;border:none;border-radius:6px;font-size:14px;font-weight:600;cursor:pointer;transition:all .2s}.save-btn{background:var(--accent-primary);color:var(--bg-primary)}.save-btn:hover{background:var(--accent-hover);transform:translateY(-1px);box-shadow:0 4px 8px #e0e0e04d}.cancel-btn{background:var(--bg-hover);color:var(--text-secondary)}.cancel-btn:hover{background:var(--bg-tertiary);color:var(--text-primary)}.quick-messages-grid{display:flex;flex-direction:column;gap:12px;overflow-y:auto;max-height:500px;padding-right:8px}.quick-message-item{background:var(--bg-tertiary);border:1px solid var(--border-color);border-radius:8px;padding:12px;transition:all .2s}.quick-message-item.disabled{opacity:.5}.quick-message-item:hover{border-color:var(--text-muted);box-shadow:0 2px 4px var(--shadow)}.qm-header{display:flex;align-items:center;gap:8px;margin-bottom:8px}.qm-emoji{font-size:18px}.qm-category{font-size:11px;background:var(--bg-hover);color:var(--text-secondary);padding:2px 8px;border-radius:10px;text-transform:uppercase;font-weight:600}.qm-toggle{margin-left:auto;position:relative;display:inline-block;width:44px;height:24px}.qm-toggle input{opacity:0;width:0;height:0}.toggle-slider{position:absolute;cursor:pointer;inset:0;background-color:var(--text-muted);transition:.3s;border-radius:24px}.toggle-slider:before{position:absolute;content:"";height:18px;width:18px;left:3px;bottom:3px;background-color:var(--bg-primary);transition:.3s;border-radius:50%}.qm-toggle input:checked+.toggle-slider{background-color:var(--accent-primary)}.qm-toggle input:checked+.toggle-slider:before{transform:translate(20px)}.qm-text{margin:0 0 8px;font-size:14px;color:var(--text-primary);line-height:1.4}.qm-shortcut{display:inline-block;font-size:11px;background:var(--warning);color:var(--bg-primary);padding:2px 6px;border-radius:4px;font-family:Courier New,monospace;margin-bottom:8px}.qm-actions{display:flex;gap:8px;margin-top:10px}.edit-btn,.delete-btn{flex:1;padding:6px;border:none;border-radius:4px;font-size:12px;font-weight:600;cursor:pointer;transition:all .2s}.edit-btn{background:var(--bg-hover);border:1px solid var(--border-color);color:var(--text-secondary)}.edit-btn:hover{background:var(--accent-primary);border-color:var(--accent-primary);color:var(--bg-primary)}.delete-btn{background:var(--bg-hover);border:1px solid var(--border-color);color:var(--error)}.delete-btn:hover{background:var(--error);border-color:var(--error);color:#fff}.loading-text,.empty-text{text-align:center;color:var(--text-muted);font-size:14px;padding:20px}.quick-messages-grid::-webkit-scrollbar{width:6px}.quick-messages-grid::-webkit-scrollbar-track{background:transparent;border-radius:3px}.quick-messages-grid::-webkit-scrollbar-thumb{background:var(--bg-hover);border-radius:3px}.quick-messages-grid::-webkit-scrollbar-thumb:hover{background:var(--text-muted)}@media (max-width: 768px){.manager-content,.form-row{grid-template-columns:1fr}}.signature-modal-overlay{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:1000;backdrop-filter:blur(4px)}.signature-modal-content{background:var(--bg-secondary);border-radius:12px;width:90%;max-width:700px;max-height:85vh;overflow:hidden;display:flex;flex-direction:column;box-shadow:0 12px 48px #00000080;border:1px solid var(--bg-hover)}.signature-modal-header{display:flex;justify-content:space-between;align-items:center;padding:20px 24px;border-bottom:1px solid var(--bg-hover)}.signature-modal-header h2{font-size:20px;font-weight:500;color:var(--text-primary);margin:0}.signature-close-button{background:none;border:none;color:var(--text-secondary);cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;border-radius:4px;transition:all .2s}.signature-close-button:hover{background:var(--bg-hover);color:var(--text-primary)}.signature-modal-body{padding:24px;overflow-y:auto;flex:1}.signature-form-full{display:flex;flex-direction:column;gap:16px}.signature-form-group{display:flex;flex-direction:column;gap:6px}.signature-form-group label{font-size:13px;font-weight:500;color:var(--text-secondary)}.signature-form-group input{padding:12px;background:var(--bg-tertiary);border:1px solid var(--bg-hover);border-radius:6px;color:var(--text-primary);font-size:14px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif;transition:all .2s ease}.signature-form-group input:focus{outline:none;border-color:var(--accent-primary);box-shadow:0 0 0 3px #e0e0e01a}.signature-form-group input::placeholder{color:var(--text-muted)}.signature-char-count{font-size:12px;color:var(--text-muted);text-align:right;display:block;margin-top:4px}.signature-modal-footer{display:flex;justify-content:flex-end;gap:12px;padding:20px 24px;border-top:1px solid var(--bg-hover)}.signature-btn-cancel,.signature-btn-save{padding:10px 20px;border:none;border-radius:6px;font-size:14px;font-weight:500;cursor:pointer;transition:all .2s ease}.signature-btn-cancel{background:transparent;border:1px solid var(--bg-hover);color:var(--text-secondary)}.signature-btn-cancel:hover{background:var(--bg-hover);color:var(--text-primary)}.signature-btn-save{background:var(--accent-primary);color:var(--bg-primary)}.signature-btn-save:hover{background:var(--accent-hover);transform:translateY(-1px);box-shadow:0 4px 12px #e0e0e033}@media (max-width: 768px){.signature-modal-content{width:95%;max-height:90vh}.signature-modal-body{padding:20px}.signature-modal-header,.signature-modal-footer{padding:16px 20px}.signature-form-group input{font-size:13px}}.label-selector{position:relative}.label-selector-trigger{background:none;border:none;cursor:pointer;padding:6px;border-radius:6px;color:var(--text-secondary);display:flex;align-items:center;gap:6px;transition:background-color .2s}.label-selector-trigger:hover{background:var(--bg-hover);color:var(--text-primary)}.label-selector-trigger .current-label{padding:3px 10px;border-radius:10px;color:#fff;font-size:12px;font-weight:500;max-width:120px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.label-selector-dropdown{position:absolute;top:100%;right:0;background:var(--bg-primary);border:1px solid var(--border-color);border-radius:8px;box-shadow:0 4px 12px #00000026;min-width:200px;max-height:300px;overflow-y:auto;z-index:100;margin-top:4px}.dropdown-header{padding:10px 12px;font-size:12px;font-weight:600;color:var(--text-secondary);text-transform:uppercase;letter-spacing:.5px;border-bottom:1px solid var(--border-color)}.label-option{display:flex;align-items:center;gap:10px;width:100%;padding:10px 12px;background:none;border:none;cursor:pointer;text-align:left;color:var(--text-primary);font-size:14px;transition:background-color .2s}.label-option:hover{background:var(--bg-hover)}.label-option.selected{background:var(--bg-secondary)}.label-option .label-color{width:12px;height:12px;border-radius:50%;flex-shrink:0}.label-option .label-name{flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.label-option .check-icon{color:var(--primary-color);flex-shrink:0}.label-option.remove-label{color:#f44336}.label-option.remove-label:hover{background:#ffebee}.label-option.manage-labels{color:var(--primary-color)}.label-option.manage-labels:hover{background:var(--bg-secondary)}.dropdown-divider{height:1px;background:var(--border-color);margin:4px 0}.no-labels{padding:16px 12px;text-align:center;color:var(--text-secondary);font-size:13px}@media (max-width: 480px){.label-selector-dropdown{right:auto;left:0}}.chat-window{flex:1;display:flex;flex-direction:column;background:var(--bg-primary);position:relative;width:100%}.chat-window:before{content:"";position:absolute;inset:0;background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAwIiBoZWlnaHQ9IjQwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZGVmcz48cGF0dGVybiBpZD0icGF0dGVybiIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgd2lkdGg9IjQwIiBoZWlnaHQ9IjQwIj48cGF0aCBkPSJNMjAgMjBtLTEgMGEgMSAxIDAgMSAwIDIgMGEgMSAxIDAgMSAwIC0yIDAiIGZpbGw9IiMxNzI0MmEiIGZpbGwtb3BhY2l0eT0iMC40Ii8+PC9wYXR0ZXJuPjwvZGVmcz48cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSJ1cmwoI3BhdHRlcm4pIi8+PC9zdmc+);opacity:.3;pointer-events:none}.chat-empty{flex:1;display:flex;align-items:center;justify-content:center;position:relative;z-index:1}.chat-empty-content{text-align:center;color:var(--text-muted)}.empty-icon{margin-bottom:24px;opacity:.3}.chat-empty-content h2{font-size:32px;font-weight:300;color:var(--text-primary);margin-bottom:16px}.chat-empty-content p{font-size:14px;color:var(--text-secondary)}.chat-header{background:var(--bg-tertiary);padding:10px 16px;border-bottom:1px solid var(--bg-hover);display:flex;justify-content:space-between;align-items:center;z-index:2}.chat-header-info{display:flex;align-items:center;gap:12px}.chat-avatar{width:40px;height:40px;border-radius:50%;background:var(--text-muted);display:flex;align-items:center;justify-content:center;color:var(--bg-secondary);flex-shrink:0}.chat-header-info h3{font-size:16px;font-weight:400;color:var(--text-primary);margin:0}.user-id{font-size:13px;color:var(--text-muted)}.chat-header-actions{display:flex;gap:8px;align-items:center}.on-hold-button{width:40px;height:40px;border-radius:50%;background:var(--bg-hover);border:1px solid var(--border-color);cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:var(--text-secondary)}.on-hold-button:hover{background:var(--color-orange-bg);color:var(--color-orange);border-color:var(--color-orange-border);transform:scale(1.05)}.on-hold-button.on-hold{background:var(--color-orange);color:#fff;border-color:var(--color-orange);box-shadow:0 0 8px #ff980066}.on-hold-button.on-hold:hover{background:var(--color-orange-dark, #e65100)}.trava-button{width:40px;height:40px;border-radius:50%;background:var(--accent-primary);border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;transition:all .2s ease;color:var(--bg-primary)}.trava-button:hover:not(:disabled){background:var(--accent-hover);transform:scale(1.05);box-shadow:0 2px 8px #e0e0e04d}.trava-button.travado{background:var(--color-red);animation:pulse 2s infinite}.trava-button.travado:hover:not(:disabled){background:var(--color-red-dark)}.trava-button:disabled{opacity:.6;cursor:not-allowed}@keyframes pulse{0%,to{box-shadow:0 0 0 0 var(--color-red-border)}50%{box-shadow:0 0 0 8px transparent}}.chat-messages{flex:1;overflow-y:auto;padding:20px 2%;position:relative;z-index:1}.messages-container{display:flex;flex-direction:column;gap:8px;min-height:100%}.message{display:flex;flex-direction:column;width:100%;animation:messageSlideIn .2s ease-out}@keyframes messageSlideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.message.user{align-items:flex-start}.message.bot,.message.agent{align-items:flex-end}.agent-name-label{font-size:14px;font-weight:500;color:var(--text-secondary);margin-bottom:4px;display:inline-block;max-width:65%}.message-bubble{max-width:65%;padding:8px 12px;border-radius:8px;position:relative;word-wrap:break-word}.message.user .message-bubble{background:var(--bg-tertiary);border-bottom-left-radius:2px}.message.bot .message-bubble{background:var(--msg-out-bg);border-bottom-right-radius:2px}.message.agent .message-bubble{background:var(--msg-agent-bg);border-bottom-right-radius:2px}.message-text{color:var(--text-primary);font-size:14px;line-height:1.5;margin-bottom:4px}.message-time{display:flex;align-items:center;justify-content:flex-end;gap:4px;font-size:11px;color:#e9edef99}.message-check{color:var(--accent-primary)}.chat-input{position:relative;background:var(--bg-tertiary);padding:10px 16px;border-top:1px solid var(--bg-hover);z-index:2}.input-container{display:flex;align-items:center;gap:8px;background:var(--bg-hover);border-radius:8px;padding:8px 12px}.message-input{flex:1;background:transparent;border:none;color:var(--text-primary);font-size:15px;outline:none;padding:8px}.message-input::placeholder{color:var(--text-muted)}.send-button{background:transparent;border:none;color:var(--text-secondary);cursor:pointer;padding:8px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background .2s}.send-button:hover:not(:disabled){background:#ffffff0d}.send-button:disabled{opacity:.5;cursor:not-allowed}.send-button:not(:disabled){color:var(--accent-primary)}.loading-conversation,.conversation-loading{position:absolute;inset:0;display:flex;flex-direction:column;align-items:center;justify-content:center;gap:16px;background:var(--bg-primary);background:linear-gradient(180deg,var(--bg-primary) 0%,rgba(var(--bg-primary-rgb),.95) 100%);color:var(--text-secondary);font-size:14px;z-index:10;animation:fadeInFast .15s ease-out;backdrop-filter:blur(2px)}@keyframes fadeInFast{0%{opacity:0}to{opacity:1}}.loading-more-messages{display:flex;align-items:center;justify-content:center;gap:12px;padding:16px;color:var(--text-secondary);font-size:13px;background:linear-gradient(to bottom,var(--bg-primary),transparent);position:sticky;top:0;z-index:5}.loading-spinner-small{width:20px;height:20px;border:2px solid var(--bg-hover);border-top-color:var(--accent-primary);border-radius:50%;animation:spin .8s linear infinite}.loading-spinner-medium{width:32px;height:32px;border:3px solid var(--bg-hover);border-top-color:var(--accent-primary);border-radius:50%;animation:spin .8s linear infinite}@keyframes spin{to{transform:rotate(360deg)}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@media (max-width: 768px){.chat-window{padding-top:0;padding-bottom:70px}.chat-header{position:fixed;top:0;left:0;right:0;z-index:99}.chat-messages{padding-top:60px;padding-bottom:0}.chat-header-info h3{font-size:15px}.user-id{font-size:12px}.trava-button,.chat-avatar{width:36px;height:36px}}@media (max-width: 375px){.chat-window{padding-top:0;padding-bottom:65px}.chat-header{top:0;padding:8px 12px}.chat-messages{padding-top:56px}.chat-header-info h3{font-size:14px}}@media (max-width: 768px){.message-content audio{max-width:100%;width:200px;height:32px}.input-container{flex-wrap:nowrap;padding:6px 8px;gap:6px}.send-button,.input-container button{padding:6px;min-width:36px;min-height:36px}.chat-input{padding:8px 12px}.message-input{min-width:0;padding:6px;font-size:14px}}@media (max-width: 375px){.message-content audio{width:180px;height:30px}.input-container{padding:4px 6px;gap:4px}.send-button,.input-container button{padding:4px;min-width:32px;min-height:32px}.chat-input{padding:6px 8px}.message-input{padding:4px;font-size:13px}}.conversations-toggle-button{display:none;background:var(--bg-hover);border:1px solid var(--border-color);color:var(--text-primary);padding:8px;border-radius:8px;cursor:pointer;transition:all .2s ease;flex-shrink:0}.conversations-toggle-button:hover{background:var(--accent-primary);color:var(--bg-primary);border-color:var(--accent-primary)}@media (max-width: 768px){.conversations-toggle-button{display:flex;align-items:center;justify-content:center}}.mobile-conversations-modal{display:none;position:fixed;inset:0;background:var(--overlay-bg);z-index:9999;backdrop-filter:blur(4px)}@media (max-width: 768px){.mobile-conversations-modal{display:flex;align-items:flex-end}}.mobile-conversations-content{width:100%;max-height:80vh;background:var(--bg-secondary);border-radius:20px 20px 0 0;display:flex;flex-direction:column;animation:slideUp .3s ease}@keyframes slideUp{0%{transform:translateY(100%)}to{transform:translateY(0)}}.mobile-conversations-header{padding:20px;background:var(--bg-tertiary);border-bottom:1px solid var(--border-color);display:flex;justify-content:space-between;align-items:center;border-radius:20px 20px 0 0}.mobile-conversations-header h3{font-size:20px;font-weight:600;color:var(--text-primary);margin:0}.close-conversations-button{background:transparent;border:none;color:var(--text-primary);cursor:pointer;padding:4px;display:flex;align-items:center;justify-content:center;transition:all .2s ease}.close-conversations-button:hover{color:var(--accent-primary);transform:scale(1.1)}.mobile-conversations-list{flex:1;overflow-y:auto;padding:8px}.mobile-conversation-item{display:flex;align-items:center;gap:12px;padding:12px;background:var(--bg-tertiary);border-radius:12px;margin-bottom:8px;cursor:pointer;transition:all .2s ease;border:2px solid transparent}.mobile-conversation-item:hover{background:var(--bg-hover);transform:translate(4px)}.mobile-conversation-item.active{border-color:var(--accent-primary);background:var(--bg-hover)}.mobile-conversation-avatar{width:48px;height:48px;border-radius:50%;background:linear-gradient(135deg,var(--avatar-gradient-start),var(--avatar-gradient-end));display:flex;align-items:center;justify-content:center;color:var(--bg-secondary);font-weight:600;font-size:20px;flex-shrink:0;box-shadow:0 2px 8px var(--shadow-light)}.mobile-conversation-info{flex:1;min-width:0}.mobile-conversation-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:4px;gap:8px}.mobile-conversation-name{font-size:16px;font-weight:500;color:var(--text-primary);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.mobile-unread-badge{background:var(--text-primary);color:var(--bg-primary);font-size:11px;font-weight:700;padding:3px 8px;border-radius:12px;min-width:22px;text-align:center;flex-shrink:0}.mobile-conversation-preview{font-size:14px;color:var(--text-muted);overflow:hidden;text-overflow:ellipsis;white-space:nowrap;margin:0}.mobile-empty-conversations{padding:40px 20px;text-align:center}.mobile-empty-conversations p{color:var(--text-muted);font-size:14px}
